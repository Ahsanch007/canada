"use strict";function _classCallCheck(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,o,e){return o&&_defineProperties(t.prototype,o),e&&_defineProperties(t,e),t}var Accordion=function(){function e(t){var o=this;_classCallCheck(this,e),this.el=t,this.summary=t.querySelector("summary"),this.content=t.querySelector(".gb-accordion-text"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",function(t){return o.onClick(t)})}return _createClass(e,[{key:"onClick",value:function(t){t.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}},{key:"shrink",value:function(){var t=this;this.isClosing=!0;var o="".concat(this.el.offsetHeight,"px"),e="".concat(this.summary.offsetHeight,"px");this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[o,e]},{duration:400,easing:"ease-out"}),this.animation.onfinish=function(){return t.onAnimationFinish(!1)},this.animation.oncancel=function(){return t.isClosing=!1}}},{key:"open",value:function(){var t=this;this.el.style.height="".concat(this.el.offsetHeight,"px"),this.el.open=!0,window.requestAnimationFrame(function(){return t.expand()})}},{key:"expand",value:function(){var t=this;this.isExpanding=!0;var o="".concat(this.el.offsetHeight,"px"),e="".concat(this.summary.offsetHeight+this.content.offsetHeight,"px");this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[o,e]},{duration:550,easing:"cubic-bezier(0.39, 0.575, 0.565, 1)"}),this.animation.onfinish=function(){return t.onAnimationFinish(!0)},this.animation.oncancel=function(){return t.isExpanding=!1}}},{key:"onAnimationFinish",value:function(t){this.el.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}]),e}();function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){function t(){var t,o,i,r,c,e,a=window,f=document;function h(t,o){this.scrollLeft=t,this.scrollTop=o}function n(t){if(null===t||"object"!=_typeof(t)||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==_typeof(t)&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(t,o){return"Y"===o?t.clientHeight+e<t.scrollHeight:"X"===o?t.clientWidth+e<t.scrollWidth:void 0}function s(t,o){o=a.getComputedStyle(t,null)["overflow"+o];return"auto"===o||"scroll"===o}function p(t){var o=(c()-t.startTime)/i,e=o=1<o?1:o,o=.5*(1-Math.cos(Math.PI*e)),e=t.startX+(t.x-t.startX)*o,o=t.startY+(t.y-t.startY)*o;t.method.call(t.scrollable,e,o),e===t.x&&o===t.y||a.requestAnimationFrame(p.bind(a,t))}function u(t,o,e){var i,n,l,s=c(),t=t===f.body?(n=(i=a).scrollX||a.pageXOffset,l=a.scrollY||a.pageYOffset,r.scroll):(n=(i=t).scrollLeft,l=t.scrollTop,h);p({scrollable:i,method:t,startTime:s,startX:n,startY:l,x:o,y:e})}"scrollBehavior"in f.documentElement.style&&!0!==a.__forceSmoothScrollPolyfill__||(o=a.HTMLElement||a.Element,i=468,r={scroll:a.scroll||a.scrollTo,scrollBy:a.scrollBy,elementScroll:o.prototype.scroll||h,scrollIntoView:o.prototype.scrollIntoView},c=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now,t=a.navigator.userAgent,e=new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0,a.scroll=a.scrollTo=function(){void 0!==arguments[0]&&(!0!==n(arguments[0])?u.call(a,f.body,void 0!==arguments[0].left?~~arguments[0].left:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:a.scrollY||a.pageYOffset):r.scroll.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=_typeof(arguments[0])?arguments[0]:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:a.scrollY||a.pageYOffset))},a.scrollBy=function(){void 0!==arguments[0]&&(n(arguments[0])?r.scrollBy.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=_typeof(arguments[0])?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):u.call(a,f.body,~~arguments[0].left+(a.scrollX||a.pageXOffset),~~arguments[0].top+(a.scrollY||a.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==n(arguments[0])){var t=arguments[0].left,o=arguments[0].top;u.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===o?this.scrollTop:~~o)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=_typeof(arguments[0])?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==n(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){var t,o,e;!0!==n(arguments[0])?(o=(t=function(t){for(;t!==f.body&&!1===(o=l(e=t,"Y")&&s(e,"Y"),e=l(e,"X")&&s(e,"X"),o||e);)t=t.parentNode||t.host;var o,e;return t}(this)).getBoundingClientRect(),e=this.getBoundingClientRect(),t!==f.body?(u.call(this,t,t.scrollLeft+e.left-o.left,t.scrollTop+e.top-o.top),"fixed"!==a.getComputedStyle(t).position&&a.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):a.scrollBy({left:e.left,top:e.top,behavior:"smooth"})):r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])})}"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports={polyfill:t}:t()}();